hostname: bigbang.dev

flux:
  interval: 1m
  rollback:
    cleanupOnFail: false

logging:
  values:
    elasticsearch:
      master:
        count: 1
        persistence:
          size: 5Gi
        resources:
          requests:
            cpu: .5
      data:
        count: 1
        persistence:
          size: 5Gi
        resources:
          requests:
            cpu: .5

fluentbit:
  values:
    securityContext:
      privileged: true

istio:
  git:
    tag: null
    #tag: 1.8.4-bb.6
    branch: "23-IstioCP-1.10.1"
  values:
    hub: registry1.dso.mil/ironbank/opensource/istio
    tag: 1.10.3
  values:
    kiali:
    image:
      name: kiali
      hub: registry1.dso.mil/ironbank/opensource/kiali/kiali
      tag: v1.37.0
      dashboard:
        auth:
          strategy: "anonymous"
    cni:
    image:
      name: install-cni
      hub: registry1.dso.mil/ironbank/opensource/istio/install-cni
      tag: 1.10.3

clusterAuditor:
  values:
    resources:
      requests:
        cpu: 100m
        memory: .5Gi

monitoring:
  values:
    alertmanager:
      alertmanagerSpec:
        resources:
          requests:
            cpu: 100m
            memory: 200Mi
    prometheusOperator:
      resources:
        requests:
          cpu: 250m
          memory: 400Mi
    prometheus:
      prometheusSpec:
        resources:
          requests:
            cpu: 100m
            memory: 200Mi
    grafana:
      resources:
        requests:
          cpu: 100m
          memory: 128Mi
    kubeStateMetrics:
      resources:
        requests:
          cpu: 10m
          memory: 32Mi
    nodeExporter:
      resources:
        requests:
          cpu: 100m
          memory: 30Mi

gatekeeper:
  values:
    replicas: 1
    resources:
      requests:
        cpu: 100m
        memory: 256Mi
      # The following caused cluster instability during initial testing.
      #allowedDockerRegistries:
      #match:
      #excludedNamespaces:
      #    - kube-system # ignored as the kubernetes distro cannot be controlled
      #    - default

twistlock:
  enabled: false
  values:
    console:
      persistence:
        size: 5Gi

istiooperator:
  git:
    #tag: 1.8.4-bb.2
    tag: null
    branch: "2-IstioOp-1.10.1"
  values:
    hub: registry1.dso.mil/ironbank/opensource/istio
    tag: 1.10.3

addons:
  authservice:
    enabled: true
    values:
      replicaCount: 3
